# 수동 진단 리포트(복사용 Markdown) 도입 보고서

## 목표

- `algo-doctor` 결과 마지막에 사용자가 **그대로 복사해서 이슈 트래커에 붙여넣을 수 있는 “Markdown 리포트 블록”**을 제공
- **개인정보/민감정보(토큰, 설정 파일 내용 등)**가 포함되지 않도록 출력 범위를 통제

## 변경 요약

- **수정 파일**: `lib/doctor.sh`
- **추가 기능**:
  - `_print_diagnostic_report()` 함수 추가
  - `ssafy_algo_doctor()`의 마지막에 **항상** 복사용 리포트 블록을 출력하도록 연결
  - `uname -a` 대신 `uname -s/-r/-m` 조합으로 **호스트명(식별 가능 정보) 노출 가능성 차단**
  - 경로는 `PWD`의 **마지막 폴더명만** 출력 (`.../<tail>` 형태)
  - Windows(Git Bash)에서 `python --version`에 섞일 수 있는 `\r` 제거

## UX 설계 포인트 (사용자 입장에서 “신고하기 쉽게”)

- **마지막에 고정 배치**: 사용자는 스크롤 최하단에서 바로 복사 가능
- **명확한 가이드 문구**: “아래 블록을 그대로 복사해서 Issue/DM에 붙여넣기”
- **GitHub 친화적 포맷**: ` ```text ` 코드블록으로 감싸서 붙여넣었을 때 **레이아웃이 깨지지 않음**
- **정보 밀도 최적화**: “재현/환경 파악에 필요한 최소 정보”만 포함 (불필요한 디테일/민감정보 배제)

## 개인정보/민감정보 마스킹 점검

- **포함 금지 항목**
  - `SSAFY_AUTH_TOKEN` 값: **출력하지 않음**
  - `~/.algo_config` 내용: **출력하지 않음** (존재 여부만 출력)
  - 사용자명/이메일: **직접 출력하지 않음**
- **주의 항목 처리**
  - `uname -a`는 호스트명이 포함될 수 있어 사용하지 않고, 커널/아키텍처만 출력
  - 경로는 전체를 출력하지 않고 마지막 폴더명만 표시

## 실행 확인(샘플)

아래 형태로 `algo-doctor` 마지막에 코드블록이 출력됩니다(예시).

````text
==================== 복사용 진단 리포트 (Markdown) ====================
아래 블록을 그대로 복사해서 GitHub Issue/DM에 붙여넣어주세요.
(개인정보/토큰/설정 내용은 포함되지 않습니다)

```text
[SSAFY Algo Tools Doctor 리포트]
- 생성시각(UTC): 2026-01-28T05:25:05Z
- ALGO_FUNCTIONS_VERSION: V8.1.2
- OSTYPE: msys
- uname(마스킹): MINGW64_NT-10.0-26200 3.5.4-cbe555e0.x86_64 x86_64
- SHELL: /usr/bin/bash
- PWD(마스킹): .../SSAFY_sh_func
- Git: git version 2.47.0.windows.2
- Curl: curl 8.10.1 (...)
- Python: python (Python 3.12.4)
- IDE_EDITOR: code
- IDE_PRIORITY: (미설정)
- 설정파일(~/.algo_config): 존재: yes
- 상태캐시(~/.algo_status_cache): 존재: yes
```
=======================================================================
````

> 참고: 위 예시는 동작 형태를 설명하기 위한 예시이며, 실제 값은 사용자 환경에 따라 달라집니다.

